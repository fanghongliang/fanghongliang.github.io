---
title: 每日一题
tags: 腾讯
categories: 每日一题
date: 2024-03-14 11:39:22
---


### 链式调用

```js
/**
 * 
 * 链式调用
 * 
 * 原理： 都是通过返回对象供之后进行调用。  
 * 1、this的作用域链，jQuery的实现方式，通常链式调用都是采用这种方式。
 * 2、返回对象本身，同 this 的区别就是显式返回链式对象
 * 3、闭包返回对象的方式实现，与函数柯里化类似
 * 
 * !!! 箭头函数this指向
 */


let Person = function() {};
Person.prototype.setAge = function(age){
    this.age = age; 
    log(`ta${age}岁`)
    return this;
}
Person.prototype.setWeight = function(weight){
    this.weight = weight; 
    log(`体重${weight}kg`)

    return this;
}

Person.prototype.eat = function (food) {
  this.food = food
  log(`eat ${food}`)
  return this 
}

Person.prototype.run = function(merter) {
  this.merter = merter
  log(`run ${merter}米`)
  return this 
}

Person.prototype.sleep = function (hour) {
  this.hour = hour
  log(`sleep ${hour} hours`)
  return this 
}


var person = new Person();

person.setAge(19).setWeight(110).eat('apple').run(30).sleep(8)


// 使用对象形式

const Monkey = {
  name: null,
  age: null,
  weight: null,
  setName: function(name) {
    this.name = name
    return this 
  },
  setAge: function(age) {
    this.age = age;
    return this 
  },
  setWeight: function(weight) {
    this.weight = weight
    return this 
  },
  get: function() {
    let desc =  `TA is ${this.name} and ${this.age}岁 、 ${this.weight}kg`
    log(desc)
  }
}


Monkey.setName('monkey').setAge(9).setWeight(23).get()

```


